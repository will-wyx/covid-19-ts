{"version":3,"file":"js/app.1cb97a83.js","mappings":"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","sources":["webpack://covid-19-ts/./src/App.vue?66c6","webpack://covid-19-ts/./src/components/AMap.vue?22dd","webpack://covid-19-ts/src/components/AMap.vue","webpack://covid-19-ts/./src/components/AMap.vue?53f9","webpack://covid-19-ts/./src/components/AMap.vue","webpack://covid-19-ts/./src/components/PeoplesTree.vue?2819","webpack://covid-19-ts/src/components/PeoplesTree.vue","webpack://covid-19-ts/./src/components/PeoplesTree.vue?875e","webpack://covid-19-ts/./src/components/PeoplesTree.vue","webpack://covid-19-ts/./src/utils/request.js","webpack://covid-19-ts/src/App.vue","webpack://covid-19-ts/./src/App.vue?facb","webpack://covid-19-ts/./src/App.vue","webpack://covid-19-ts/./src/main.js","webpack://covid-19-ts/webpack/bootstrap","webpack://covid-19-ts/webpack/runtime/chunk loaded","webpack://covid-19-ts/webpack/runtime/compat get default export","webpack://covid-19-ts/webpack/runtime/define property getters","webpack://covid-19-ts/webpack/runtime/global","webpack://covid-19-ts/webpack/runtime/hasOwnProperty shorthand","webpack://covid-19-ts/webpack/runtime/make namespace object","webpack://covid-19-ts/webpack/runtime/jsonp chunk loading","webpack://covid-19-ts/webpack/startup"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\",attrs:{\"id\":\"app\"}},[_c('peoples-tree',{staticClass:\"app__tree\",attrs:{\"peoples\":_vm.peoples,\"loading\":_vm.loading},on:{\"change\":_vm.handleChange,\"click\":_vm.handleNodeClick}}),_c('a-map',{ref:\"map\",staticClass:\"app__map\",attrs:{\"points\":_vm.points}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"amap\",staticClass:\"a-map\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"a-map\" ref=\"amap\"></div>\n</template>\n\n<script>\nimport AMapLoader from '@amap/amap-jsapi-loader';\n\nexport default {\n  name: \"AMap\",\n  data() {\n    return {\n      map: null,\n      cluster: null,\n      AMap: null\n    }\n  },\n  props: {\n    points: {\n      type: Array,\n      default: () => {\n        return []\n      }\n    }\n  },\n  mounted() {\n    this.initMap()\n  },\n  watch: {\n    points(value) {\n      const points = []\n      value.forEach(point => {\n        if (point.location) {\n          points.push({ id: point.id, lnglat: [point.location.lng, point.location.lat] })\n        } else {\n          console.log(point.id, point.name)\n        }\n      })\n\n      if (this.cluster) {\n        this.cluster.setMap(null);\n      }\n      this.cluster = new this.AMap.MarkerCluster(this.map, points, { gridSize: 60 });\n      this.map.setFitView(null, true)\n    }\n  },\n  methods: {\n    initMap() {\n      const container = this.$refs.amap\n      AMapLoader.load({\n        key: 'd786ac93724ce3d6658748d66cf5be5b',\n        version: '2.0',\n        plugins: ['AMap.MarkerCluster', 'AMap.AutoComplete']\n      }).then((AMap) => {\n        this.AMap = AMap\n        this.map = new AMap.Map(container, {\n          viewMode: '2D',\n          zoom: 10,\n          center: [118.144541, 39.696604]\n        })\n      }).catch(e => {\n        console.log(e)\n      })\n    },\n    searchPoint(point) {\n      const autoOptions = {\n        city: '唐山市'\n      }\n      const autoComplete = new this.AMap.AutoComplete(autoOptions);\n      return new Promise((resolve, reject) => {\n        autoComplete.search(point.name, (status, result) => {\n          if (result.info === 'OK') {\n            const { district, name, location } = result.tips[0]\n            const pos = {\n              id: point.id, origin: point.name,\n              district, name, location: {\n                lng: location.lng,\n                lat: location.lat\n              }\n            }\n            resolve(pos)\n          } else {\n            reject('err')\n          }\n        })\n      })\n    },\n    setCenter({ location }) {\n      this.map.setZoomAndCenter(17, [location.lng, location.lat], true)\n    }\n  },\n}\n</script>\n\n<style scoped>\n.a-map {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AMap.vue?vue&type=template&id=1c41bc72&scoped=true&\"\nimport script from \"./AMap.vue?vue&type=script&lang=js&\"\nexport * from \"./AMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AMap.vue?vue&type=style&index=0&id=1c41bc72&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c41bc72\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tree',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"peoples-tree\",attrs:{\"node-key\":\"id\",\"show-checkbox\":\"\",\"data\":_vm.treeData,\"props\":_vm.defaultProps},on:{\"check\":_vm.handleCheck,\"node-click\":_vm.handleClick},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"peoples-tree__label\",class:{\n     accurate0: node.level === 3 && !data.accurate,\n     accurate1: node.level === 3 && data.accurate===1,\n     accurate2: node.level === 3 && data.accurate===2,\n   }},[_vm._v(\" \"+_vm._s(data.label)+\" \")])}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-tree\n      node-key=\"id\"\n      show-checkbox\n      :data=\"treeData\"\n      :props=\"defaultProps\"\n      class=\"peoples-tree\"\n      v-loading=\"loading\"\n      @check=\"handleCheck\"\n      @node-click=\"handleClick\"\n  >\n     <span\n         class=\"peoples-tree__label\"\n         :class=\"{\n       accurate0: node.level === 3 && !data.accurate,\n       accurate1: node.level === 3 && data.accurate===1,\n       accurate2: node.level === 3 && data.accurate===2,\n     }\" slot-scope=\"{ node, data }\">\n       {{ data.label }}\n     </span>\n  </el-tree>\n</template>\n\n<script>\nexport default {\n  name: \"PeoplesTree\",\n  data() {\n    return {\n      data: [],\n      defaultProps: {\n        label: 'label',\n        children: 'children'\n      }\n    }\n  },\n  props: {\n    peoples: {\n      type: Array,\n      default: () => {\n        return []\n      }\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    treeData() {\n      const qData = [], wData = []\n\n      this.peoples.forEach(people => {\n        const c = people.id.slice(0, 1), no = people.id.slice(1);\n        let list;\n        if (c === 'Q') {\n          list = qData\n        } else {\n          list = wData\n        }\n\n        const children = people.track.map((e, i) => {\n          let result\n          if (e instanceof Object) {\n            result = { id: `${people.id}-${i}`, label: e.name, ...e }\n          } else {\n            result = { id: `${people.id}-${i}`, label: e, name: e }\n          }\n          return result\n        })\n\n        list.push({\n          id: people.id,\n          no: +no,\n          label: `${no} ${people.area} (${children.length})`,\n          children\n        })\n      })\n\n      qData.sort((a, b) => a.no - b.no)\n      wData.sort((a, b) => a.no - b.no)\n\n      return [\n        { id: 'q', label: `确诊 [${qData.length}]`, children: qData },\n        { id: 'w', label: `无症状 [${wData.length}]`, children: wData },\n      ]\n    }\n  },\n  methods: {\n    handleCheck(e, { checkedNodes }) {\n      const nodes = checkedNodes.filter(node => !node.children)\n      this.$emit('change', nodes)\n    },\n    handleClick(data) {\n      if (data.location) {\n        this.$emit('click', data)\n      }\n    }\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.peoples-tree {\n  height: 100%;\n  overflow: auto;\n  box-sizing: border-box;\n\n  &__label {\n    font-size: 14px;\n  }\n\n  .accurate0 {\n    color: #F56C6C\n  }\n\n  .accurate1 {\n    color: #E6A23C\n  }\n\n  .accurate2 {\n    color: #67C23A\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PeoplesTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PeoplesTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PeoplesTree.vue?vue&type=template&id=7d7f0036&scoped=true&\"\nimport script from \"./PeoplesTree.vue?vue&type=script&lang=js&\"\nexport * from \"./PeoplesTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PeoplesTree.vue?vue&type=style&index=0&id=7d7f0036&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d7f0036\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\n\nconst instance = axios.create({\n    timeout: 3000\n});\n\nexport default instance\n","<template>\n  <div id=\"app\" class=\"app\">\n    <peoples-tree class=\"app__tree\" :peoples=\"peoples\" @change=\"handleChange\" :loading=\"loading\"\n                  @click=\"handleNodeClick\"/>\n    <a-map class=\"app__map\" :points=\"points\" ref=\"map\"/>\n  </div>\n</template>\n\n<script>\n\nimport AMap from \"@/components/AMap\";\nimport PeoplesTree from \"@/components/PeoplesTree\";\nimport request from \"@/utils/request\";\nimport AMapLoader from '@amap/amap-jsapi-loader';\n\nexport default {\n  name: 'App',\n  components: { PeoplesTree, AMap },\n  data() {\n    return {\n      peoples: [],\n      points: [],\n      AMap: null,\n      loading: false\n    }\n  },\n  created() {\n    AMapLoader.load({\n      key: 'd786ac93724ce3d6658748d66cf5be5b',\n      version: '2.0',\n      plugins: ['AMap.AutoComplete']\n    }).then((AMap) => {\n      this.AMap = AMap\n      this.loadData()\n    }).catch(e => {\n      console.log(e)\n    })\n  },\n  methods: {\n    loadData() {\n      this.loading = true\n      request.get('data/data.json')\n          .then(({ data }) => {\n            const promises = []\n            data.peoples.forEach(people => {\n              people.track.forEach((pos, i) => {\n                if (!pos.location) {\n                  promises.push(this.searchPoint(people, i, pos))\n                }\n              })\n            })\n\n            Promise.all(promises)\n                .then(resList => {\n                  resList.forEach(({ people, index, pos }) => {\n                    people.track[index] = pos\n                  })\n                  this.peoples = data.peoples\n                  this.loading = false\n                })\n                .catch(err => {\n                  console.log('err', err)\n                })\n          })\n    },\n    handleChange(data) {\n      this.points = data\n    },\n    handleNodeClick(data) {\n      const json = JSON.stringify({ district: data.district, name: data.name, origin: data.origin, location: data.location, accurate: 2 })\n      console.log(json)\n      this.$refs.map.setCenter(data)\n    },\n    searchPoint(people, index, keywords) {\n      const autoOptions = {\n        city: '唐山市'\n      }\n      return new Promise((resolve, reject) => {\n        const autoComplete = new this.AMap.AutoComplete(autoOptions);\n        autoComplete.search(keywords, (status, result) => {\n          if (result) {\n            let pos\n            if (result.info === 'OK') {\n              const { district, name, location } = result.tips[0]\n              pos = {\n                origin: keywords,\n                district, name, location: {\n                  lng: location.lng,\n                  lat: location.lat,\n                },\n                accurate: 1\n              }\n            } else {\n              pos = {\n                origin: keywords,\n                name: keywords\n              }\n            }\n            resolve({ people, index, pos })\n          } else {\n            reject({ status, result, keywords })\n          }\n        })\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\nhtml, body, .app {\n  margin: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.app {\n  display: flex;\n\n  &__tree {\n    width: 23rem;\n    padding: .5rem;\n  }\n\n  &__map {\n    flex: 1;\n    overflow: hidden;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4030d6d8&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport App from './App.vue'\n\n\nwindow._AMapSecurityConfig = {\n  securityJsCode: '30eb50807133bec74365efaac53b226a'\n}\nVue.use(ElementUI);\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcovid_19_ts\"] = self[\"webpackChunkcovid_19_ts\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4047); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","peoples","loading","on","handleChange","handleNodeClick","ref","points","staticRenderFns","name","data","map","cluster","AMap","props","type","Array","default","mounted","initMap","watch","value","forEach","point","location","push","id","lnglat","console","log","setMap","MarkerCluster","gridSize","setFitView","methods","container","$refs","amap","AMapLoader","key","version","plugins","then","Map","viewMode","zoom","center","catch","e","searchPoint","autoOptions","city","autoComplete","AutoComplete","Promise","resolve","reject","search","status","result","info","district","pos","origin","lng","lat","setCenter","setZoomAndCenter","component","directives","rawName","expression","treeData","defaultProps","handleCheck","handleClick","scopedSlots","_u","fn","node","class","accurate0","level","accurate","accurate1","accurate2","_v","_s","label","children","Boolean","computed","qData","people","c","slice","list","wData","track","i","Object","no","area","length","sort","a","b","checkedNodes","nodes","filter","$emit","instance","axios","timeout","components","PeoplesTree","created","loadData","request","get","promises","resList","err","json","JSON","stringify","index","keywords","window","_AMapSecurityConfig","securityJsCode","Vue","ElementUI","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}